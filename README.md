# CSM Servise (CSMSvc)
## Общая информация
Сервис CsmSvc может быть использован для программного обеспечения: 1С:Центр спутникового мониторинга, и 1С:TMS. Управление перевозками.
Сервис CsmSvc — это HTTP сервер. Сервис CsmSvc является поставщиком картографических материалов, осуществляет рендеринг графиков, 
взаимодействует с картографическими материалами различных форматов. Дополнительной функцией сервиса CsmSvc является репликация данных 
с сервера сбора данных в информационную базу 1С в случае использования файловой базы данных.
Доступ к сервису должны иметь как сервер 1С, так и все пользователи. Поэтому устанавливать сервис рекомендуется на сервере, доступном 
всем пользователям сети. В случае если предполагается однопользовательская работа с файловой информационной базой, то возможна локальная установка.
## Установка
Перед установкой сервиса CsmSvc перейдите по ссылке www.itob.ru/support/csmsvc/, выберите требуемую версию сервиса и скачайте файл 
поставки. 
***
Для установки запустите файл поставки. На экран будет выдано окно установки программы. Для продолжения установки нажмите кнопку "Далее". 
В следующем диалоге можно задать каталог установки программы, затем нажмите кнопку "Установить", а затем кнопку "Готово".
В случае работы с клиент серверным вариантом и стандартными настройками установка сервиса закончена.
***
При работе с файловой базой требуется включить в настройках сервиса репликацию и указать путь к базе данных.
**Внимание!** Работа службы CsmSvc с файловой базой в режиме репликации реализована в демонстрационных целях и не рекомендуется для 
использования на постоянной основе.
## Дополнительные настройки сервиса Csmsvc
Дополнительные настройки сервиса CsmSvc задаются в конфигурационном файле "CsmSvc.ini". Конфигурационный файл находится в папке с 
установленной программой. По умолчанию сервис устанавливается в каталог C:\Program Files\CsmService\(для 32-х разрядных систем) или 
C:\Program Files (x86) \CsmService\ (для 64-х разрядных систем).
Секции файла настроек "CsmSvc.ini" и их назначение:
*	[http] — Указание основного рабочего порта сервиса (по умолчанию port=8091). По указанному порту к сервису обращаются клиентские 
приложения и сервер 1С;
*	[TileServer] — в секции задаются настройки встроенного тайлового сервера. Сервер позволяет кэшировать тайлы карт, для ускорения 
последующего отображения в рабочих местах диспетчера. Рекомендуется использовать в случае слабого интернет-канала или ограничения 
доступа пользователей в сеть интернет;
*	[replication] — включение или отключение функции репликации данных (по умолчанию выключено). Используется для репликации данных 
мониторинга в файловую базу;
*	[demo] — секция с настройками репликации для файловой базы данных. 
##	Настройки сервиса CsmSvc для файлового варианта работы
При файловом варианте работы с информационной базой 1С в службе CsmSvc требуется установить настройки репликации и соединения 
с информационной базой 1С. Для этого в разделе "[replication]" устанавливаем значение "Enabled=1", в разделе "[demo]" указываем 
параметры подключения к серверу сбора данных (Server, Port, Login, Password) и параметры подключения к информационной базе 1С 
(InfoBaseConnectionString,EnterpriseVersion). После чего потребуется перезапустить сервис CsmService в диспетчере служб Windows.
## Лицензия
Исходный код распространяется под лицензией GPL v.2.0, полный текст лицензии в файле LICENSE.
